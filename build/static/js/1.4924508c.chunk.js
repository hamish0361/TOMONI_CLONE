(this["webpackJsonptomoni-app"]=this["webpackJsonptomoni-app"]||[]).push([[1],{1261:function(e,a,t){"use strict";var n=t(1238),l=t(0),c=t.n(l),r=t(34);a.a=function(e){var a=e.title,t=void 0===a?"":a,l=e.children;return c.a.createElement(r.c,null,c.a.createElement(n.a,null),c.a.createElement(r.e,{title:t},c.a.createElement(r.f,null,l)))}},1286:function(e,a,t){"use strict";var n=t(389),l=(t(393),t(74)),c=t(0),r=t.n(c),i=t(1178),o=t(17),s=t(34);a.a=function(e){var a=e.intl,t=Object(o.e)((function(e){return{boxList:e.warehouse.box.list.data}}),o.c).boxList;return r.a.createElement(s.c,{className:"h-100"},r.a.createElement(s.e,{title:a.formatMessage({id:"ORDER.BOX"})}),r.a.createElement("div",{className:"pb-4"},r.a.createElement("div",{className:"box-card__header"},r.a.createElement("span",{className:"col-4 border-bottom py-5"},r.a.createElement(i.a,{id:"ORDER.SKU"})),r.a.createElement("span",{className:"col-4 border-bottom py-5"},r.a.createElement(i.a,{id:"ORDER.WEIGHT"})),r.a.createElement("span",{className:"col-4 border-bottom py-5"},r.a.createElement(i.a,{id:"ORDER.VOLUME"}))),(null===t||void 0===t?void 0:t.length)>0?r.a.createElement("div",{className:"order-card"},null===t||void 0===t?void 0:t.map((function(e,t){return r.a.createElement("div",{key:t,className:"box-card__item py-5",style:{backgroundColor:t%2!==1?"#e2e3ef":""}},r.a.createElement("div",{className:"col-4 order-title"},e.sfa_id||"-"),r.a.createElement("div",{className:"col-4 order-title"},"".concat(Object(l.a)(e.weight)," ").concat(a.formatMessage({id:"ORDER.UNIT.KG"}))||"-"),r.a.createElement("div",{className:"col-4 order-title"},"".concat(e.width," ").concat(a.formatMessage({id:"ORDER.UNIT.M3"}))||"-"))}))):r.a.createElement(s.d,null,r.a.createElement(n.a,null))))}},1287:function(e,a,t){"use strict";var n=t(12),l=t(74),c=t(1288),r=t(0),i=t.n(r),o=t(1263),s=t(1178),m=t(1245),d=t(34);a.a=function(e){var a,t,u=e.order,E=void 0===u?{}:u,p=e.onUpdate,v=void 0===p?null:p,b=e.statusRes,f=e.intl,g=Object(r.useState)(""),O=Object(n.a)(g,2),N=O[0],R=O[1],h=Object(o.c)(),_=h.handleSubmit,T=h.register,D=Object(c.a)((null===E||void 0===E?void 0:E.note)||"");return Object(r.useEffect)((function(){R((null===E||void 0===E?void 0:E.note)||"")}),[null===E||void 0===E?void 0:E.note]),i.a.createElement(d.c,{className:"h-100"},i.a.createElement(d.e,{title:f.formatMessage({id:"ORDER.INFO"})},i.a.createElement(d.f,null,i.a.createElement(m.a,{color:"primary",form:"form-info-update",disabled:N===D},i.a.createElement(s.a,{id:"GLOBAL.BUTTON.UPDATE"})))),i.a.createElement(d.d,null,i.a.createElement("div",{className:"row form-group"},i.a.createElement("div",{className:"col-md-6 pr-12"},i.a.createElement("div",{className:"row align-items-center"},i.a.createElement("div",{className:"col-4"},i.a.createElement("span",{className:"order-title"},i.a.createElement(s.a,{id:"ORDER.ID"}))),i.a.createElement("div",{className:"col-8"},i.a.createElement("div",{className:"form-control bg-light"},(null===E||void 0===E?void 0:E.id)||"")))),i.a.createElement("div",{className:"col-md-6 pl-12"},i.a.createElement("div",null,i.a.createElement("div",{className:"row align-items-center"},i.a.createElement("div",{className:"col-4"},i.a.createElement("span",{className:"order-title"},i.a.createElement(s.a,{id:"ORDER.TOTAL_MONEY"}))),i.a.createElement("div",{className:"col-8"},i.a.createElement("div",{className:"form-control bg-light"},Object(l.a)(null===E||void 0===E?void 0:E.balance))))))),i.a.createElement("div",{className:"row form-group"},i.a.createElement("div",{className:"col-md-6 pr-12"},i.a.createElement("div",{className:"row align-items-center"},i.a.createElement("div",{className:"col-4"},i.a.createElement("span",{className:"order-title"},i.a.createElement(s.a,{id:"ORDER.CUSTOMER"}))),i.a.createElement("div",{className:"col-8"},i.a.createElement("div",{className:"form-control bg-light"},(null===E||void 0===E?void 0:E.customer_id)||"")))),i.a.createElement("div",{className:"col-md-6 pl-12"},i.a.createElement("div",null,i.a.createElement("div",{className:"row align-items-center"},i.a.createElement("div",{className:"col-4"},i.a.createElement("span",{className:"order-title"},i.a.createElement(s.a,{id:"ORDER.SURCHARGE"}))),i.a.createElement("div",{className:"col-8"},i.a.createElement("div",{className:"form-control bg-light"},Object(l.a)(null===E||void 0===E?void 0:E.additional_cost))))))),i.a.createElement("div",{className:"row form-group"},i.a.createElement("div",{className:"col-md-6 pr-12"},i.a.createElement("div",{className:"row align-items-center"},i.a.createElement("div",{className:"col-4"},i.a.createElement("span",{className:"order-title"},i.a.createElement(s.a,{id:"ORDER.STATUS"}))),i.a.createElement("div",{className:"col-8"},i.a.createElement("div",{className:"form-control bg-light"},(null===b||void 0===b?void 0:b.name)||(null===E||void 0===E||null===(a=E.status)||void 0===a?void 0:a.name))))),i.a.createElement("div",{className:"col-md-6 pl-12"},i.a.createElement("div",{className:"row align-items-center"},i.a.createElement("div",{className:"col-4"},i.a.createElement("span",{className:"order-title"},i.a.createElement(s.a,{id:"ORDER.ORDER_DATE"}))),i.a.createElement("div",{className:"col-8"},i.a.createElement("div",{className:"form-control bg-light"},(null===E||void 0===E?void 0:E.create_at)||""))))),i.a.createElement("div",{className:"row form-group"},i.a.createElement("div",{className:"col-md-6 pr-12"},i.a.createElement("div",{className:"row align-items-center"},i.a.createElement("div",{className:"col-4"},i.a.createElement("span",{className:"order-title"},i.a.createElement(s.a,{id:"ORDER.TYPE"}))),i.a.createElement("div",{className:"col-8"},i.a.createElement("div",{className:"form-control bg-light"},(null===E||void 0===E||null===(t=E.type)||void 0===t?void 0:t.name)||"")))),i.a.createElement("div",{className:"col-md-6 pl-12"},i.a.createElement("div",{className:"row align-items-center"},i.a.createElement("div",{className:"col-4"},i.a.createElement("span",{className:"order-title"},i.a.createElement(s.a,{id:"ORDER.LAST_UPDATE"}))),i.a.createElement("div",{className:"col-8"},i.a.createElement("div",{className:"form-control bg-light"},(null===E||void 0===E?void 0:E.updated_at)||""))))),i.a.createElement("div",{className:"row form-group"},i.a.createElement("div",{className:"col-md-6 pr-12"},i.a.createElement("div",{className:"row align-items-center"},i.a.createElement("div",{className:"col-4 pr-12"},i.a.createElement("span",{className:"order-title"},i.a.createElement(s.a,{id:"ORDER.NOTE"}))),i.a.createElement("div",{className:"col-8"},i.a.createElement("form",{onSubmit:_((function(e){var a=e.note;v&&v(a)})),id:"form-info-update"},i.a.createElement("input",{ref:T,name:"note",className:"form-control",placeholder:f.formatMessage({id:"GLOBAL.PLACEHOLER.INPUT"}),value:N||"",onChange:function(e){R(e.target.value)}}))))))))}},1288:function(e,a,t){"use strict";t.d(a,"a",(function(){return l}));var n=t(0);function l(e){var a=Object(n.useRef)();return Object(n.useEffect)((function(){a.current=e})),a.current}},1289:function(e,a,t){"use strict";var n=t(389),l=(t(393),t(74)),c=t(0),r=t.n(c),i=t(1178),o=t(17),s=t(34);a.a=function(e){var a=e.intl,t=Object(o.e)((function(e){return{ladingBillList:e.warehouse.ladingBill.list.data}}),o.c).ladingBillList;return r.a.createElement(s.c,{className:"h-100"},r.a.createElement(s.e,{title:a.formatMessage({id:"ORDER.LADING_BILL"})}),r.a.createElement("div",{className:"pb-4"},r.a.createElement("div",{className:"landing-bill-card__header"},r.a.createElement("span",{className:"col-2 order-title font-weight-bold border-bottom py-5"},r.a.createElement(i.a,{id:"ORDER.CODE"})),r.a.createElement("span",{className:"col-5 order-title font-weight-bold border-bottom py-5"},r.a.createElement(i.a,{id:"ORDER.TOTAL_MONEY"})),r.a.createElement("span",{className:"col-5 order-title font-weight-bold border-bottom py-5"},r.a.createElement(i.a,{id:"ORDER.CREATED_DATE"}))),(null===t||void 0===t?void 0:t.length)>0?r.a.createElement("div",{className:"order-card"},null===t||void 0===t?void 0:t.map((function(e,a){return r.a.createElement("div",{key:a,className:"landing-bill-card__item py-5",style:{backgroundColor:a%2!==1?"#e2e3ef":"-"}},r.a.createElement("div",{className:"col-2 order-title"},e.id||"-"),r.a.createElement("div",{className:"col-5 order-title"},Object(l.a)(e.balance)||"-"),r.a.createElement("div",{className:"col-5 order-title"},e.created_at||"-"))}))):r.a.createElement(s.d,null,r.a.createElement(n.a,null))))}},1290:function(e,a,t){"use strict";var n=t(12),l=t(389),c=(t(393),t(5)),r=t.n(c),i=t(0),o=t.n(i),s=t(1178),m=t(17),d=t(34);function u(e){var a=e.onLog,t=void 0===a?null:a,c=e.intl,r=Object(i.useState)(""),u=Object(n.a)(r,2),E=u[0],p=u[1],v=Object(m.e)((function(e){return{logList:e.notification.log.list}}),m.c).logList;return o.a.createElement(o.a.Fragment,null,o.a.createElement(d.c,{className:"h-100"},o.a.createElement(d.e,{title:c.formatMessage({id:"ORDER.LOG"})}),o.a.createElement(d.d,{className:"d-flex flex-column justify-content-between"},o.a.createElement("div",{className:"row order-log-card"},o.a.createElement("div",{className:"col-12"},(null===v||void 0===v?void 0:v.length)>0?v.map((function(e,a){return o.a.createElement("div",{key:a,className:"d-flex"},o.a.createElement("b",{className:"mr-2"},e.creator_id),o.a.createElement("p",{style:{color:"rgb(177 141 28)"},className:"mr-2"},e.created_at,":"),o.a.createElement("p",null," ",function(e){if(!e.includes("{"))return e;var a=JSON.parse(e,(function(e,a){return a}));return a.product_id||a.wrote||a.director_id||a.supplier_id||a.discount_tax_percent||a.addtional||a.status}(e.content)))})):o.a.createElement(l.a,null))),o.a.createElement("div",{className:"row align-items-center"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("input",{value:E,className:"form-control",placeholder:c.formatMessage({id:"GLOBAL.PLACEHOLER.INPUT"}),onChange:function(e){p(e.target.value)}}),o.a.createElement("div",{className:"input-group-append"},o.a.createElement("button",{className:"input-group-text",id:"basic-addon2",onClick:function(){t&&(p(""),t(E))},disabled:!E,style:{backgroundColor:"#3699ff",color:"white"}},o.a.createElement(s.a,{id:"GLOBAL.BUTTON.WRITE"}))))))))}u.prototype={onLog:r.a.func},a.a=u},1291:function(e,a,t){"use strict";var n=t(12),l=t(0),c=t.n(l),r=t(1178),i=t(1292),o=t(17),s=t(54),m=t(1245),d=t(34);a.a=function(e){var a=e.shipment,t=void 0===a?{}:a,u=e.onUpdate,E=void 0===u?null:u,p=e.shipmentInfoRes,v=e.intl,b=Object(l.useState)(!1),f=Object(n.a)(b,2),g=f[0],O=f[1],N=Object(l.useState)(null),R=Object(n.a)(N,2),h=R[0],_=R[1],T=Object(o.e)((function(e){return{shipmentList:e.order.shipmentInfo.shipmentInfoList}}),o.c).shipmentList,D=T.map((function(e){return{value:e.id,label:e.consignee,address:e.address,tel:e.tel}})),j=T.find((function(e){return e.id===p}));return c.a.createElement(d.c,{className:"h-100"},c.a.createElement(d.e,{title:v.formatMessage({id:"ORDER.SHIPMENT_INFO"})},c.a.createElement(d.f,null,g&&c.a.createElement("div",{style:{width:"200px"}},c.a.createElement(s.a,{options:D,className:"w-100",onChange:function(e){_(e)},placeholder:v.formatMessage({id:"GLOBAL.SEARCH.PLACEHOLER_SELECT"})})),c.a.createElement(m.a,{className:"ml-2",color:"secondary",onClick:function(){O(!g),_(null)}},c.a.createElement("i",{style:{paddingRight:0},className:g?"flaticon-cancel":"flaticon-edit"})),c.a.createElement(m.a,{className:"ml-2",color:"primary",onClick:function(){E&&h&&E(null===h||void 0===h?void 0:h.value)},disabled:!h},c.a.createElement(r.a,{id:"GLOBAL.BUTTON.UPDATE"})))),c.a.createElement(d.d,null,c.a.createElement("div",{className:"form-group row align-items-center"},c.a.createElement("div",{className:"col-3"},c.a.createElement("span",{className:"order-title"},c.a.createElement(r.a,{id:"ORDER.CUSTOMER"}))),c.a.createElement("div",{className:"col-9"},c.a.createElement("div",{className:"form-control bg-light"},j?j.consignee:(null===t||void 0===t?void 0:t.consignee)||""))),c.a.createElement("div",{className:"form-group row align-items-center"},c.a.createElement("div",{className:"col-3"},c.a.createElement("span",{className:"order-title"},c.a.createElement(r.a,{id:"ORDER.ADDRESS"}))),c.a.createElement("div",{className:"col-9"},c.a.createElement("div",{className:"form-control bg-light"},j?j.address:(null===t||void 0===t?void 0:t.address)||""))),c.a.createElement("div",{className:"form-group row align-items-center"},c.a.createElement("div",{className:"col-3"},c.a.createElement("span",{className:"order-title"},c.a.createElement(r.a,{id:"ORDER.TEL"}))),c.a.createElement("div",{className:"col-9"},c.a.createElement(i.a,{className:"form-control bg-light",format:"#### #### #### ####",value:j?j.tel:(null===t||void 0===t?void 0:t.tel)||"",displayType:"text"})))))}},1293:function(e,a,t){"use strict";var n=t(12),l=t(95),c=t(74),r=t(0),i=t.n(r),o=t(1178),s=t(17),m=t(54),d=t(1245),u=t(34);a.a=function(e){var a=e.shipment,t=void 0===a?{}:a,E=e.onUpdate,p=void 0===E?null:E,v=e.methodRes,b=e.intl,f=Object(r.useState)(!1),g=Object(n.a)(f,2),O=g[0],N=g[1],R=Object(r.useState)(null),h=Object(n.a)(R,2),_=h[0],T=h[1],D=Object(s.e)((function(e){return{shipmentMethodList:e.home.home.shipmentMethodList}}),s.c).shipmentMethodList,j=Object(s.e)((function(e){return{isActionLoading:e.order.list.isActionLoading}}),s.c).isActionLoading,y=null===D||void 0===D?void 0:D.map((function(e){return{value:e.id,label:"".concat(e.name," - ph\xed ").concat(e.fee)}})),L=null===D||void 0===D?void 0:D.find((function(e){return e.id===v}));return i.a.createElement(u.c,{className:"h-100"},j&&i.a.createElement(l.a,null),i.a.createElement(u.e,{title:b.formatMessage({id:"ORDER.SHIPMENT_METHOD"})},i.a.createElement(u.f,null,O&&i.a.createElement("div",{style:{width:"200px"}},i.a.createElement(m.a,{options:y,className:"w-100",onChange:function(e){T(e)},placeholder:b.formatMessage({id:"GLOBAL.SEARCH.PLACEHOLER_SELECT"})})),i.a.createElement(d.a,{className:"ml-2",color:"secondary",onClick:function(){N(!O),T(null)}},i.a.createElement("i",{style:{paddingRight:0},className:O?"flaticon-cancel":"flaticon-edit"})),i.a.createElement(d.a,{className:"ml-2",color:"primary",onClick:function(){p&&_&&p(null===_||void 0===_?void 0:_.value)},disabled:!_},i.a.createElement(o.a,{id:"GLOBAL.BUTTON.UPDATE"})))),i.a.createElement(u.d,null,i.a.createElement("div",{className:"form-group row align-items-center"},i.a.createElement("div",{className:"col-3"},i.a.createElement("span",{className:"order-title"},i.a.createElement(o.a,{id:"ORDER.NAME"}))),i.a.createElement("div",{className:"col-9"},i.a.createElement("div",{className:"form-control bg-light"},L?L.name:(null===t||void 0===t?void 0:t.name)||""))),i.a.createElement("div",{className:"form-group row align-items-center"},i.a.createElement("div",{className:"col-3"},i.a.createElement("span",{className:"order-title"},i.a.createElement(o.a,{id:"ORDER.FEE"}))),i.a.createElement("div",{className:"col-9"},i.a.createElement("div",{className:"form-control bg-light"},L?Object(c.a)(null===L||void 0===L?void 0:L.fee):Object(c.a)(null===t||void 0===t?void 0:t.fee))))))}},1294:function(e,a,t){"use strict";var n=t(389),l=(t(393),t(74)),c=t(0),r=t.n(c),i=t(1178),o=t(34);a.a=function(e){var a=e.transactions,t=e.intl;return r.a.createElement(o.c,{className:"h-100"},r.a.createElement(o.e,{title:t.formatMessage({id:"ORDER.TRANSACTION"})}),r.a.createElement("div",{className:"pb-4"},r.a.createElement("div",{className:"transaction-card__header"},r.a.createElement("span",{className:"col-4 border-bottom py-5"},r.a.createElement(i.a,{id:"ORDER.EXECUTION_DATE"})),r.a.createElement("span",{className:"col-2 border-bottom py-5"},r.a.createElement(i.a,{id:"ORDER.AMOUNT"})),r.a.createElement("span",{className:"col-4 border-bottom py-5"},r.a.createElement(i.a,{id:"ORDER.PERFORMER"})),r.a.createElement("span",{className:"col-2 pr-0 border-bottom py-5"},r.a.createElement(i.a,{id:"ORDER.CONTENT"}))),(null===a||void 0===a?void 0:a.length)>0?r.a.createElement("div",{className:"order-card"},null===a||void 0===a?void 0:a.map((function(e,a){return r.a.createElement("div",{key:a,className:"transaction-card__item py-5",style:{backgroundColor:a%2!==1?"#e2e3ef":"-"}},r.a.createElement("div",{className:"col-4 order-title"},e.create_at||"-"),r.a.createElement("div",{className:"col-2 order-title"},Object(l.a)(e.amount)||"-"),r.a.createElement("div",{className:"col-4 order-title"},e.prepared_by_id||"-"),r.a.createElement("div",{className:"col-2 pr-0 order-title"},e.description||"-"))}))):r.a.createElement(n.a,null)))}},1295:function(e,a,t){"use strict";var n=t(1),l=t(8),c=t(12),r=t(1238),i=t(28),o=t(389),s=t(95),m=t(77),d=t(74),u=t(0),E=t.n(u),p=t(1263),v=t(1178),b=t(175),f=t(1292),g=t(17),O=t(54),N=t(1257),R=t(1239),h=t(1358),_=t(1241),T=t(1240),D=t(1242),j=t(1244),y=[{value:"1",label:"C\xe1i"},{value:"0",label:"Th\xf9ng"}];a.a=Object(b.c)(Object(g.b)(null,null)((function(e){var a,t,b,L,A,M=e.onHide,S=e.onUpdate,C=e.open,w=e.item,x=e.intl,I=Object(p.c)(),U=I.register,P=I.handleSubmit,k=Object(u.useState)({price:0,quantity:0,box:null,property:"",note:"",discount_tax_per_tax_percent:0,expectedDate:new Date,dueDate:new Date,trackingList:[],code:"",tax:null,itemDetail:null}),B=Object(c.a)(k,2),F=B[0],G=B[1],H=Object(g.e)((function(e){var a=e.home,t=e.purchase;return{taxList:a.home.taxList,isActionLoading:t.tracking.isActionLoading}}),g.c),q=H.taxList,Y=H.isActionLoading;Object(u.useEffect)((function(){C&&G(Object(l.a)(Object(l.a)({},F),{},{price:w.price||0,quantity:w.quantity||0,box:{value:w.is_box?"1":"0",label:w.is_box?"C\xe1i":"Th\xf9ng"},property:w.properties||"",note:w.note||"",trackingList:null===w||void 0===w?void 0:w.trackings,discount_tax_per_tax_percent:w.discount_tax_per_tax_percent||"",tax:null}))}),[C,w.price,w.id]);var X=function(e){var a=/^[0-9]*$/.test(e.target.value);("discount_tax_per_tax_percent"!==e.target.name||a)&&G(Object(l.a)(Object(l.a)({},F),{},Object(n.a)({},e.target.name,e.target.value)))},K=null===q||void 0===q?void 0:q.map((function(e){return{value:e.id,label:e.name,percent:e.percent}}));return E.a.createElement(N.a,{isOpen:C,style:{minWidth:"850px"}},Y&&E.a.createElement(s.a,{local:!0}),E.a.createElement(R.a,null,E.a.createElement(v.a,{id:"PURCHASE.UPDATE.ITEM.TITLE"})),E.a.createElement(h.a,null,E.a.createElement(_.a,{className:"d-flex"},E.a.createElement("div",{className:"symbol symbol-100 mr-4"},E.a.createElement("img",{style:{objectFit:"cover"},src:(null===(a=w.product)||void 0===a||null===(t=a.images)||void 0===t?void 0:t.url)||m.a.NOT_FOUND,alt:"product"})),E.a.createElement("div",null,E.a.createElement("div",null,E.a.createElement("h6",null,(null===(b=w.product)||void 0===b?void 0:b.name)||"")),E.a.createElement("div",null,E.a.createElement("p",null,w.product_id||"")))),E.a.createElement(T.a,{onSubmit:P((function(e){var a,t=e.quantity,n=e.property,l=e.note,c=e.discount_tax_per_tax_percent,r=(null===(a=F.tax)||void 0===a?void 0:a.percent)||w.tax_percent,o={price:"string"===typeof F.price&&F.price.includes(",")?F.price.replace(",",""):F.price,quantity:t,property:n,note:l,box:F.box.value,tax_percent:r,discount_tax_per_tax_percent:c||0};F.price?t?F.discount_tax_per_tax_percent>100?i.b.warning(x.formatMessage({id:"ORDER.ITEM.WARNING.LIMIT"})):S(o):i.b.warning(x.formatMessage({id:"ORDER.CREATE.WHOLESALE.QUANTITY_REQUIRED"})):i.b.warning(x.formatMessage({id:"ORDER.UPDATE.ORDER.PRICE_REQUIRED"}))})),id:"form-items-update"},E.a.createElement(_.a,{className:"row"},E.a.createElement("div",{className:"col-6"},E.a.createElement(D.a,null,E.a.createElement(v.a,{id:"ORDER.PRICE"})),E.a.createElement(f.a,{name:"price",min:"1",className:"form-control",displayType:"input",thousandSeparator:!0,value:F.price,onChange:X})),E.a.createElement("div",{className:"col-3"},E.a.createElement(D.a,null,E.a.createElement(v.a,{id:"ORDER.QUANTITY"})),E.a.createElement("input",{ref:U,type:"number",min:"1",name:"quantity",value:null===F||void 0===F?void 0:F.quantity,onChange:X,className:"form-control",placeholder:"Nh\u1eadp s\u1ed1 l\u01b0\u1ee3ng"})),E.a.createElement("div",{className:"col-3"},E.a.createElement(D.a,null,E.a.createElement(v.a,{id:"ORDER.FORMALITY"})),E.a.createElement(O.a,{options:y,value:F.box,onChange:function(e){G(Object(l.a)(Object(l.a)({},F),{},{box:e}))}}))),E.a.createElement(_.a,null,E.a.createElement(D.a,null,E.a.createElement(v.a,{id:"ORDER.PROPERTIES"})),E.a.createElement("input",{ref:U,type:"text",name:"property",value:F.property,onChange:X,className:"form-control",placeholder:"Nh\u1eadp Thu\u1ed9c t\xednh"})),E.a.createElement(_.a,null,E.a.createElement(D.a,null,E.a.createElement(v.a,{id:"ORDER.NOTE"})),E.a.createElement("input",{ref:U,type:"text",name:"note",value:F.note,onChange:X,className:"form-control",placeholder:"Nh\u1eadp ghi ch\xfa"}))),E.a.createElement(r.a,{className:"mb-8"}),E.a.createElement(_.a,{className:"row"},E.a.createElement("div",{className:"col-3"},E.a.createElement(D.a,null,E.a.createElement(v.a,{id:"ORDER.MONEY_GOODS"}))),E.a.createElement("div",{className:"col-9"},E.a.createElement("div",{className:"form-control bg-light"},Object(d.a)(w.amount)))),E.a.createElement(_.a,{className:"row"},E.a.createElement("div",{className:"col-3"},E.a.createElement(D.a,null,E.a.createElement(v.a,{id:"ORDER.TAX_DISCOUNTS"})," (%)")),E.a.createElement("div",{className:"col-9"},E.a.createElement("input",{ref:U,name:"discount_tax_per_tax_percent",value:F.discount_tax_per_tax_percent,onChange:X,className:"form-control",placeholder:x.formatMessage({id:"GLOBAL.PLACEHOLER.INPUT"})}))),E.a.createElement(_.a,{className:"row"},E.a.createElement("div",{className:"col-3"},E.a.createElement(D.a,null,E.a.createElement(v.a,{id:"TRACKING.TAX_PERCENT"})," (%)")),E.a.createElement("div",{className:"col-9"},E.a.createElement(O.a,{options:K,value:F.tax,onChange:function(e){G(Object(l.a)(Object(l.a)({},F),{},{tax:e}))},placeholder:x.formatMessage({id:"warehouse.jancode.tax.select_title"})}))),E.a.createElement(_.a,{className:"row"},E.a.createElement("div",{className:"col-3"},E.a.createElement(D.a,null,E.a.createElement(v.a,{id:"TRACKING.TAX"}))),E.a.createElement("div",{className:"col-9"},E.a.createElement("div",{className:"form-control bg-light"},Object(d.a)(w.tax)))),E.a.createElement(_.a,{className:"row"},E.a.createElement("div",{className:"col-3"},E.a.createElement(D.a,null,E.a.createElement(v.a,{id:"TRACKING.BALANCE"}))),E.a.createElement("div",{className:"col-9"},E.a.createElement("div",{className:"form-control bg-light"},Object(d.a)(w.balance)))),E.a.createElement(r.a,{className:"mb-8"}),E.a.createElement("div",{className:"form-group mb-0"},E.a.createElement("div",{className:"row mb-2 ml-1 mr-1 align-items-center justify-content-between"},E.a.createElement("label",{className:"font-size-h6"},E.a.createElement(v.a,{id:"ORDER.ITEM.TRACKING_LIST"}))),(null===F||void 0===F||null===(L=F.trackingList)||void 0===L?void 0:L.length)>0?null===(A=F.trackingList)||void 0===A?void 0:A.map((function(e,a){return E.a.createElement("span",{key:a,className:"label font-weight-bold label-lg label-inline m-2 ".concat(e.checked?"label-light-success":"label-light-danger")},e.code)})):E.a.createElement(o.a,null))),E.a.createElement(j.a,null,E.a.createElement("button",{style:{width:"100px"},type:"button",onClick:M,className:"btn btn-light btn-elevate"},E.a.createElement(v.a,{id:"GLOBAL.BUTTON.CANCEL"})),E.a.createElement(E.a.Fragment,null," "),E.a.createElement("button",{type:"submit",className:"btn btn-primary btn-elevate",form:"form-items-update"},E.a.createElement(v.a,{id:"GLOBAL.BUTTON.UPDATE"}))))})))},1296:function(e,a,t){"use strict";var n=t(73),l=t(0),c=t.n(l),r=t(1242),i=t(1243),o=t(1603);function s(e){var a=e.field,t=e.form,l=e.type,s=e.label,m=e.placeholder,d=e.disabled,u=a.name,E=t.errors,p=t.touched,v=E[u]&&p[u];return c.a.createElement(c.a.Fragment,null,s&&c.a.createElement(r.a,{for:u},s),c.a.createElement(i.a,Object.assign({id:u},a,{type:l,placeholder:m,disabled:d,invalid:v})),c.a.createElement(n.a,{name:u,component:o.a}))}s.defaultProps={type:"text",label:"",placeholder:"",disabled:!1},a.a=s},1308:function(e,a,t){"use strict";var n=t(95),l=(t(393),t(77)),c=t(74),r=t(5),i=t.n(r),o=t(0),s=t.n(o),m=t(17),d=t(34),u=t(1326);function E(e){var a=e.onEdit,t=e.onPageChange,r=e.intl,i=Object(m.e)((function(e){var a=e.order;return{itemList:a.item.itemList,pagination:a.item.pagination,isActionLoading:a.item.isActionLoading,isLoading:a.item.isLoading}}),m.c),o=i.itemList,E=i.pagination,p=i.isActionLoading,v=i.isLoading,b=[{id:"id",title:r.formatMessage({id:"ORDER.ID"})},{id:"product",title:r.formatMessage({id:"ORDER.PRODUCT"})},{id:"price",title:r.formatMessage({id:"ORDER.PRICE"})},{id:"quantity",title:r.formatMessage({id:"ORDER.QUANTITY"})},{id:"box",title:r.formatMessage({id:"ORDER.FORMALITY"})},{id:"property",title:r.formatMessage({id:"ORDER.PROPERTIES"})},{id:"cost",title:r.formatMessage({id:"ORDER.COST"})},{id:"note",title:r.formatMessage({id:"ORDER.NOTE"})},{id:"number",title:r.formatMessage({id:"ORDER.NUMBER_BOX"})},{id:"trackings",title:r.formatMessage({id:"ORDER.TRACKING"})}],f=o&&o.map((function(e){var a,t,n,i,o;return{id:e.id||"",product:e.product?s.a.createElement("div",{className:"item-card__product"},s.a.createElement("div",{className:"symbol symbol-85 mr-5"},s.a.createElement("div",{className:"symbol-label"},s.a.createElement("img",{className:"h-100 w-100",style:{objectFit:"cover"},src:(null===(a=e.product.images)||void 0===a?void 0:a.url)||l.a.NOT_FOUND,alt:"product"}))),s.a.createElement("div",{className:"item-card__product__name"},s.a.createElement("p",null,e.product.name||""),s.a.createElement("p",null,e.product.id||""))):null,price:Object(c.a)(e.price)||0,quantity:Object(c.a)(e.quantity)||0,box:e.is_box?"C\xe1i":"Th\xf9ng",number:Object(c.a)(null===e||void 0===e||null===(t=e.product)||void 0===t||null===(n=t.package)||void 0===n?void 0:n.quantity),property:e.properties?e.properties:"-",cost:s.a.createElement("div",{className:"item-card"},s.a.createElement("p",null,r.formatMessage({id:"ORDER.MONEY_GOODS"}),":"," ",Object(c.a)(e.amount)),s.a.createElement("p",null,r.formatMessage({id:"ORDER.TAX_PERCENT"}),":"," ",e.tax_percent,"%"),s.a.createElement("p",null,r.formatMessage({id:"ORDER.TAX_DISCOUNTS"}),":"," ",e.discount_tax_per_tax_percent,"%"),s.a.createElement("p",null,r.formatMessage({id:"ORDER.TAX_MONEY"}),":"," ",Object(c.a)(e.tax)),s.a.createElement("p",null,s.a.createElement("b",null,r.formatMessage({id:"ORDER.TOTAL_MONEY"}),":")," ",Object(c.a)(e.balance))),note:e.note||"-",trackings:(null===(i=e.trackings)||void 0===i?void 0:i.length)>0?s.a.createElement("div",{className:"d-flex flex-wrap"},null===(o=e.trackings)||void 0===o?void 0:o.map((function(e,a){return s.a.createElement("span",{key:a,className:"label font-weight-bold label-lg label-inline m-2 ".concat(e.checked?"label-light-success":"label-light-danger")},e.code)}))):"-"}}));return s.a.createElement(d.c,null,(p||v)&&s.a.createElement(n.a,null),s.a.createElement(d.e,{title:r.formatMessage({id:"ORDER.ITEM"})}),s.a.createElement(d.d,null,s.a.createElement(u.a,{columns:b,rows:f,isDelete:!1,onViewEdit:a,onPageChange:t,page:E.currentPage,lastpage:E.lastPage})))}E.prototype={onEdit:i.a.func,onPageChange:i.a.func,page:i.a.number},a.a=E},1326:function(e,a,t){"use strict";var n=t(12),l=t(1232),c=t(1233),r=t(1234),i=t(1235),o=t(1236),s=t(1258),m=t(1237),d=t(1249),u=t(389),E=t(29),p=t.n(E),v=t(0),b=t.n(v),f=t(1178),g=Object(l.a)((function(e){return{root:{},pagination:{display:"flex",marginTop:e.spacing(2),marginBottom:e.spacing(2),justifyContent:"flex-end"},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1},title:{fontSize:"1.15rem",fontWeight:"500"},content:{fontSize:"1rem"},content_col:{textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",width:"100px",fontSize:"1rem"}}}));function O(e){var a=e.columns,t=e.rows,l=e.page,E=e.lastpage,O=e.onPageChange,N=e.onViewEdit,R=e.isPagination,h=e.onSort,_=void 0===h?null:h,T=e.isIndex,D=g(),j=a.slice(1),y=b.a.useState("asc"),L=Object(n.a)(y,2),A=L[0],M=L[1],S=Object(v.useState)(""),C=Object(n.a)(S,2),w=C[0],x=C[1];return b.a.createElement("div",null,b.a.createElement("div",null,b.a.createElement("div",{style:{overflow:"auto"}},b.a.createElement(c.a,{style:{minWidth:t.length<=0?"":"1700px"}},b.a.createElement(r.a,null,b.a.createElement(i.a,null,T&&b.a.createElement(o.a,null,b.a.createElement("span",{className:D.title},b.a.createElement(f.a,{id:"GLOBAL.NO"}))),j.map((function(e){return b.a.createElement(o.a,{key:e.id},e.isSort?b.a.createElement(s.a,{active:w===e.id,direction:w===e.id?A:"asc",onClick:function(){return function(e){var a=w===e&&"asc"===A?"desc":"asc";M(a),x(e),_&&_(e,a)}(e.id)}},b.a.createElement("span",{className:D.title},e.title),w===e.id&&e.disablePadding?b.a.createElement("span",{className:D.visuallyHidden},"desc"===A?"sorted descending":"sorted ascending"):null):b.a.createElement("span",{className:D.title},e.title))})))),t.length>0&&b.a.createElement(m.a,null,t.map((function(e,t){return b.a.createElement(i.a,{hover:!0,key:t,onClick:function(){return t=e[a[0].id],void(N&&N(t));var t},className:"btn"},T&&b.a.createElement(o.a,null,t+1),j.map((function(a,t){return b.a.createElement(o.a,{key:a.id,style:{width:0===t?"22%":5===t||6===t?"14%":4===t?"10%":""}},b.a.createElement("div",{className:6===t||4===t?D.content_col:D.content},function(e,a){return a.render?a.render(p.a.get(e,a.id),e):p.a.get(e,a.id)}(e,a)))})))})))),t.length<=0&&b.a.createElement(u.a,null)),R&&b.a.createElement(d.a,{className:D.pagination,count:E,page:l,shape:"rounded",onChange:function(e,a){O&&O(a)}})))}O.defaultProps={className:"",columns:[],rows:[],onPageChange:null,onViewEdit:null,page:1,lastpage:1,isPagination:!0,isIndex:!0,additionalActions:[]},a.a=O},1327:function(e,a,t){"use strict";var n=t(8),l=t(12),c=t(28),r=t(95),i=t(412),o=t(1286),s=t(1287),m=t(1308),d=t(1289),u=t(1290),E=t(1291),p=t(1293),v=t(1294),b=t(1295),f=t(1261),g=t(413),O=t(392),N=t(397),R=t(396),h=t(395),_=t(0),T=t.n(_),D=t(567),j=t(1178),y=t(175),L=t(17);a.a=Object(y.c)(Object(L.b)(null,null)((function(e){var a=e.history,t=e.intl,y=e.match.params.id,A=Object(L.d)(),M=Object(_.useState)({page:1,appends:"product.unit;product.package;supplier",with:"trackings",search:"order_id:".concat(y)}),S=Object(l.a)(M,2),C=S[0],w=S[1],x=Object(L.e)((function(e){var a=e.order,t=e.home;return{orderDetail:a.list.orderDetail,isLoadingDetail:a.list.isLoading,isActionLoadingDetail:a.list.isActionLoading,statusList:t.home.statusList,itemList:a.item.itemList}}),L.c),I=x.orderDetail,U=x.isLoadingDetail,P=x.isActionLoadingDetail,k=x.statusList,B=x.itemList,F={id:y,params:{with:"items.trackings;trackings;shipmentInfor",appends:"customer;shipmentMethod;transactions;logs"}},G={search:"owners.objectable_type:order;owners.objectable_id:".concat(y),searchFields:"owners.objectable_type:=;owners.objectable_id:=",searchJoin:"and"},H={search:"owningBoxes.objectable_type:order;owningBoxes.objectable_id:".concat(y),searchFields:"owningBoxes.objectable_type:=;owningBoxes.objectable_id:=",searchJoin:"and"},q={search:"logable_type:App\\\\Entities\\\\Order;logable_id:".concat(y),orderBy:"created_at",sortedBy:"desc"};Object(_.useEffect)((function(){A(Object(g.d)()),A(Object(O.e)(F)).then((function(e){if(e.type.includes("fulfilled")){var a={search:"user_id:".concat(e.payload.customer_id)};A(Object(N.b)(a))}})),A(Object(R.d)(G)),A(Object(h.c)(H))}),[]),Object(_.useEffect)((function(){A(Object(g.c)(C))}),[C]);var Y=Object(_.useState)(null),X=Object(l.a)(Y,2),K=X[0],W=X[1],V=Object(_.useState)(null),J=Object(l.a)(V,2),Q=J[0],z=J[1];Object(_.useEffect)((function(){A(Object(i.d)()),A(Object(i.c)(q))}),[]);var $=Object(_.useState)(!1),Z=Object(l.a)($,2),ee=Z[0],ae=Z[1],te=Object(_.useState)(!1),ne=Object(l.a)(te,2),le=ne[0],ce=ne[1],re=Object(_.useState)(null),ie=Object(l.a)(re,2),oe=ie[0],se=ie[1],me=Object(_.useState)(null),de=Object(l.a)(me,2),ue=de[0],Ee=de[1],pe=(ue||I.steps||[]).map((function(e){return k.find((function(a){return a.id===e}))})),ve=U||P;return T.a.createElement(T.a.Fragment,null,ve&&T.a.createElement(r.a,null),T.a.createElement(T.a.Fragment,null,T.a.createElement(f.a,{title:t.formatMessage({id:"ORDER.WHOLESALE.DETAIL.TITLE"})},T.a.createElement(D.a,{className:"btn btn-light ml-2",onClick:function(){return a.push("/ban-hang/don-si")}},T.a.createElement("i",{className:"fa fa-arrow-left"}),T.a.createElement(j.a,{id:"GLOBAL.BUTTON.BACK"})),(null===pe||void 0===pe?void 0:pe.length)>0?null===pe||void 0===pe?void 0:pe.map((function(e,a){return T.a.createElement(D.a,{key:a,className:"btn btn-primary ml-2",onClick:function(){return function(e){var a={id:y,body:{status:e}};A(Object(O.h)(a)).then((function(e){var a,n;e.type.includes("fulfilled")?(c.b.success(t.formatMessage({id:"ORDER.UPDATE.STATUS.SUCCESS"})),se(null===(a=e.payload)||void 0===a?void 0:a.status),Ee(null===(n=e.payload)||void 0===n?void 0:n.steps),A(Object(i.c)(q))):c.b.error(t.formatMessage({id:"ORDER.UPDATE.STATUS.FAIL"}))}))}(null===e||void 0===e?void 0:e.id)}},null===e||void 0===e?void 0:e.name)})):null),T.a.createElement("div",{className:"px-8 pb-8"},T.a.createElement(T.a.Fragment,null,T.a.createElement("div",{className:"form-group row"},T.a.createElement("div",{className:"col-12"},T.a.createElement(s.a,{statusRes:oe,order:I,onUpdate:function(e){var a={id:y,body:{note:e}};A(Object(O.h)(a)).then((function(e){e.type.includes("fulfilled")?c.b.success(t.formatMessage({id:"ORDER.UPDATE.INFO.SUCCESS"})):c.b.error(t.formatMessage({id:"ORDER.UPDATE.INFO.FAIL"}))}))},intl:t}))),T.a.createElement("div",{className:"row"},T.a.createElement("div",{className:"col-md-12"},T.a.createElement(m.a,{onEdit:function(e){var a=B.findIndex((function(a){return a.id===e}));if(-1!==a){var t=B[a];ce(t)}ae(!0)},onPageChange:function(e){w(Object(n.a)(Object(n.a)({},C),{},{page:e}))},intl:t}))),T.a.createElement("div",{className:"form-group row"},T.a.createElement("div",{className:"col-md-6"},T.a.createElement(p.a,{methodRes:Q,shipment:I.shipment_method,onUpdate:function(e){var a={id:y,body:{shipment_method_id:e}};A(Object(O.h)(a)).then((function(e){e.type.includes("fulfilled")?(c.b.success(t.formatMessage({id:"ORDER.UPDATE.SHIPMENT_METHOD.SUCCESS"})),z(e.payload.shipment_method_id)):c.b.error(t.formatMessage({id:"ORDER.UPDATE.SHIPMENT_METHOD.FAIL"}))}))},intl:t})),T.a.createElement("div",{className:"col-md-6"},T.a.createElement(E.a,{shipmentInfoRes:K,shipment:I.shipment_infor,onUpdate:function(e){var a={id:y,body:{shipment_infor_id:e}};A(Object(O.h)(a)).then((function(e){e.type.includes("fulfilled")?(c.b.success(t.formatMessage({id:"ORDER.UPDATE.SHIPMENT_INFO.SUCCESS"})),W(e.payload.shipment_infor_id)):c.b.error(t.formatMessage({id:"ORDER.UPDATE.SHIPMENT_INFO.FAIL"}))}))},intl:t}))),T.a.createElement("div",{className:"form-group row"},T.a.createElement("div",{className:"col-md-6"},T.a.createElement(o.a,{intl:t})),T.a.createElement("div",{className:"col-md-6"},T.a.createElement(d.a,{onView:function(e){a.push("/warehouse/lading-bills/".concat(e))},intl:t}))),T.a.createElement("div",{className:"form-group row"},T.a.createElement("div",{className:"col-md-6"},T.a.createElement(v.a,{transactions:I.transactions||[],intl:t})),T.a.createElement("div",{className:"col-md-6"},T.a.createElement(u.a,{onLog:function(e){var a={content:e,logable_id:y,logable_type:"AppEntitiesOrder"};A(Object(i.a)(a)).then((function(e){e.type.includes("fulfilled")?(c.b.success(t.formatMessage({id:"ORDER.UPDATE.LOG.SUCCESS"})),A(Object(i.c)(q))):c.b.error(t.formatMessage({id:"ORDER.UPDATE.LOG.FAIL"}))}))},intl:t})))))),T.a.createElement(b.a,{item:le||{},open:ee,onHide:function(){return ae(!1)},onUpdate:function(e){var a=e.price,n=e.quantity,l=e.box,r=e.property,i=e.note,o=e.tax_percent,s=e.discount_tax_per_tax_percent,m={id:le.id,body:{price:a,quantity:n,note:i,properties:r,is_box:l,tax_percent:o,discount_tax_per_tax_percent:s}};ae(!1),A(Object(g.e)(m)).then((function(e){e.type.includes("fulfilled")?(c.b.success(t.formatMessage({id:"ORDER.UPDATE.ITEM.SUCCESS"})),A(Object(g.c)(C)),A(Object(O.e)(F))):c.b.error(t.formatMessage({id:"ORDER.UPDATE.ITEM.FAIL"}))}))}}))})))},1353:function(e,a,t){"use strict";var n=t(8),l=t(12),c=t(28),r=t(95),i=t(412),o=t(1286),s=t(1287),m=t(48),d=(t(393),t(77)),u=t(74),E=t(5),p=t.n(E),v=t(0),b=t.n(v),f=t(1178),g=t(17),O=t(34),N=t(1326),R=t(186),h=t(388),_=t(54),T=t(1263);var D=function(e){var a,t,r,i=e.show,o=void 0!==i&&i,s=e.onHide,m=void 0===s?null:s,d=e.intl,u=e.productList,E=void 0===u?[]:u,p=e.onSearchProduct,g=void 0===p?null:p,O=e.taxList,N=void 0===O?[]:O,D=e.onAddItem,j=e.idOrder,y=Object(T.c)(),L=y.register,A=y.handleSubmit,M=E.map((function(e){return{value:e.id,label:e.name,price:e.price}})),S=Object(v.useState)({typeSearchProduct:"name",productSelected:null,box:null,tax:null}),C=Object(l.a)(S,2),w=C[0],x=C[1],I=Object(v.useRef)(null),U=[{value:"1",label:d.formatMessage({id:"TRACKING.PIECE"})},{value:"0",label:d.formatMessage({id:"TRACKING.BOX"})}],P=N.map((function(e){return{value:e.id,label:e.name}})),k=function(e){var a,t,n,l,r=((null===(a=w.tax)||void 0===a?void 0:a.label)||P[0].label).slice(0,-1),i={product_id:(null===(t=w.productSelected)||void 0===t?void 0:t.value)||"",price:(null===(n=w.productSelected)||void 0===n?void 0:n.price)||"",is_box:(null===(l=w.box)||void 0===l?void 0:l.value)||U[0].value,tax:r,quantity:e.quantity,noteProduct:e.noteProduct,property:e.property,order_id:j};e.quantity<1?c.b.warning(d.formatMessage({id:"PURCHASE.CREATE.ITEM.WARNING2"})):D&&D(i)};return Object(v.useEffect)((function(){o||x(Object(n.a)(Object(n.a)({},w),{},{productSelected:null}))}),[o]),b.a.createElement("div",null,b.a.createElement("form",{onSubmit:A(k)},b.a.createElement(R.a,{show:o,title:d.formatMessage({id:"ADD.ITEM.TITLE"}),onHide:m},b.a.createElement(h.a.Body,{className:"overlay overlay-block cursor-default"},b.a.createElement("div",{className:"form-group row align-items-center"},b.a.createElement("div",{className:"col-md-4"},b.a.createElement("h4",{className:" "},b.a.createElement(f.a,{id:"ORDER.PRODUCT_INFO"}))),b.a.createElement("div",{className:"col-md-8"},b.a.createElement(_.a,{placeholder:d.formatMessage({id:"GLOBAL.SEARCH.PLACEHOLER_INPUT"}),options:M,onInputChange:function(e){I.current&&clearTimeout(I.current),I.current=setTimeout((function(){var a={value:e,type:w.typeSearchProduct};e.length>0&&g&&g(a)}),500)},onChange:function(e){x(Object(n.a)(Object(n.a)({},w),{},{productSelected:e}))}}))),b.a.createElement("div",{className:"form-group row"},b.a.createElement("div",{className:"col-md-3"},b.a.createElement("label",null,b.a.createElement(f.a,{id:"ORDER.CODE"}))),b.a.createElement("div",{className:"col-md-9"},b.a.createElement("div",{className:"form-control bg-light"},null===(a=w.productSelected)||void 0===a?void 0:a.value))),b.a.createElement("div",{className:"form-group row"},b.a.createElement("div",{className:"col-md-3"},b.a.createElement("label",null,b.a.createElement(f.a,{id:"ORDER.NAME"}))),b.a.createElement("div",{className:"col-md-9"},b.a.createElement("div",{className:"form-control bg-light product-detail-name"},null===(t=w.productSelected)||void 0===t?void 0:t.label))),b.a.createElement("div",{className:"form-group row"},b.a.createElement("div",{className:"col-md-3"},b.a.createElement("label",null,b.a.createElement(f.a,{id:"ORDER.PRICE"}))),b.a.createElement("div",{className:"col-md-9"},b.a.createElement("div",{className:"form-control bg-light"},null===(r=w.productSelected)||void 0===r?void 0:r.price))),b.a.createElement("div",{className:"form-group row"},b.a.createElement("div",{className:"col-md-3"},b.a.createElement("label",null,b.a.createElement(f.a,{id:"ORDER.QUANTITY"}))),b.a.createElement("div",{className:"col-md-9"},b.a.createElement("input",{type:"number",className:"form-control",name:"quantity",ref:L,max:"100"}))),b.a.createElement("div",{className:"form-group row"},b.a.createElement("div",{className:"col-md-3"},b.a.createElement("label",null,b.a.createElement(f.a,{id:"ORDER.FORMALITY"}))),b.a.createElement("div",{className:"col-md-9"},b.a.createElement(_.a,{defaultValue:U[0],options:U,onChange:function(e){x(Object(n.a)(Object(n.a)({},w),{},{box:e.value}))}}))),b.a.createElement("div",{className:"form-group row"},b.a.createElement("div",{className:"col-md-3"},b.a.createElement("label",null,b.a.createElement(f.a,{id:"ORDER.PROPERTIES"}))),b.a.createElement("div",{className:"col-md-9"},b.a.createElement("input",{className:"form-control",name:"property",ref:L}))),b.a.createElement("div",{className:"form-group row"},b.a.createElement("div",{className:"col-md-3"},b.a.createElement("label",null,b.a.createElement(f.a,{id:"ORDER.TAX_PERCENT"}))),b.a.createElement("div",{className:"col-md-9"},b.a.createElement(_.a,{placeholder:d.formatMessage({id:"GLOBAL.PLACEHOLER.SELECT"}),defaultValue:P[0],options:P,onChange:function(e){x(Object(n.a)(Object(n.a)({},w),{},{tax:e}))}}))),b.a.createElement("div",{className:"form-group row"},b.a.createElement("div",{className:"col-md-3"},b.a.createElement("label",null,b.a.createElement(f.a,{id:"ORDER.NOTE_PRODUCT"}))),b.a.createElement("div",{className:"col-md-9"},b.a.createElement("input",{className:"form-control",name:"noteProduct",ref:L})))),b.a.createElement(h.a.Footer,null,b.a.createElement("button",{type:"button",className:"btn btn-light btn-elevate modal-title font-size-h6 mt-5 text-dark",onClick:m},d.formatMessage({id:"GLOBAL.BUTTON.CANCEL"})),b.a.createElement("button",{type:"button",className:"btn btn-primary btn-elevate modal-title font-size-h6 mt-5 ",onClick:A(k)},d.formatMessage({id:"GLOBAL.BUTTON.ADD"}))))))},j=t(391),y=t(413),L=t(392);function A(e){var a=e.onEdit,t=e.onPageChange,n=e.intl,i=e.idOrder,o=e.statusOrder,s=Object(g.e)((function(e){var a=e.order,t=e.product,n=e.home;return{itemList:a.item.itemList,isActionLoading:a.item.isActionLoading,productList:t.list.productList,taxList:n.home.taxList,pagination:a.item.pagination}}),g.c),E=s.itemList,p=s.isActionLoading,R=s.productList,h=s.taxList,_=s.pagination,T=Object(g.d)(),A=Object(v.useState)(!1),M=Object(l.a)(A,2),S=M[0],C=M[1],w=Object(m.a)(new Set([1,1,2,3,4,4,5]));console.log("uniqueArray",w);var x=[{id:"id",title:n.formatMessage({id:"ORDER.ID"})},{id:"product",title:n.formatMessage({id:"ORDER.PRODUCT"})},{id:"price",title:n.formatMessage({id:"ORDER.PRICE"})},{id:"quantity",title:n.formatMessage({id:"ORDER.QUANTITY"})},{id:"box",title:n.formatMessage({id:"ORDER.FORMALITY"})},{id:"property",title:n.formatMessage({id:"ORDER.PROPERTIES"})},{id:"cost",title:n.formatMessage({id:"ORDER.COST"})},{id:"note",title:n.formatMessage({id:"ORDER.NOTE"})},{id:"number",title:n.formatMessage({id:"ORDER.NUMBER_BOX"})},{id:"trackings",title:n.formatMessage({id:"ORDER.TRACKING"})}],I=E&&E.map((function(e){var a,t,l,c,r;return{id:e.id||"",product:e.product?b.a.createElement("div",{className:"item-card__product"},b.a.createElement("div",{className:"symbol symbol-85 mr-5"},b.a.createElement("div",{className:"symbol-label"},b.a.createElement("img",{className:"h-100 w-100",style:{objectFit:"cover"},src:(null===(a=e.product.images)||void 0===a?void 0:a.url)||d.a.NOT_FOUND,alt:"product"}))),b.a.createElement("div",{className:"item-card__product__name"},b.a.createElement("p",null,e.product.name||""),b.a.createElement("p",null,e.product.id||""))):null,price:Object(u.a)(e.price)||0,quantity:Object(u.a)(e.quantity)||0,box:e.is_box?"C\xe1i":"Th\xf9ng",property:e.properties?e.properties:"-",cost:b.a.createElement("div",{className:"item-card"},b.a.createElement("p",null,n.formatMessage({id:"ORDER.MONEY_GOODS"}),":"," ",Object(u.a)(e.amount)),b.a.createElement("p",null,n.formatMessage({id:"ORDER.TAX_PERCENT"}),":"," ",e.tax_percent,"%"),b.a.createElement("p",null,n.formatMessage({id:"ORDER.TAX_DISCOUNTS"}),":"," ",e.discount_tax_per_tax_percent,"%"),b.a.createElement("p",null,n.formatMessage({id:"ORDER.TAX_MONEY"}),":"," ",Object(u.a)(e.tax)),b.a.createElement("p",null,b.a.createElement("b",null,n.formatMessage({id:"ORDER.TOTAL_MONEY"}),":")," ",b.a.createElement("b",null,Object(u.a)(e.balance)))),note:e.note||"-",number:Object(u.a)(null===e||void 0===e||null===(t=e.product)||void 0===t||null===(l=t.package)||void 0===l?void 0:l.quantity),trackings:(null===(c=e.trackings)||void 0===c?void 0:c.length)>0?b.a.createElement("div",{className:"d-flex flex-wrap"},null===(r=e.trackings)||void 0===r?void 0:r.map((function(e,a){return b.a.createElement("span",{key:a,className:"label font-weight-bold label-lg label-inline m-2 ".concat(e.checked?"label-light-success":"label-light-danger")},e.code)}))):"-"}}));return b.a.createElement(b.a.Fragment,null,b.a.createElement(O.c,null,p&&b.a.createElement(r.a,{local:!0}),b.a.createElement(O.e,{title:n.formatMessage({id:"ORDER.ITEM"})},b.a.createElement(O.f,null," ","Pending"===o?b.a.createElement("button",{style:{minWidth:"100px"},type:"button",className:"btn btn-primary",onClick:function(){return C(!0)}},b.a.createElement(f.a,{id:"BUTTON.ADD.ITEM"})):"")),b.a.createElement(O.d,null,b.a.createElement(N.a,{columns:x,rows:I,isDelete:!1,onViewEdit:a,onPageChange:t,page:_.currentPage,lastpage:_.lastPage}))),b.a.createElement(D,{show:S,onHide:function(){return C(!1)},intl:n,productList:R,onSearchProduct:function(e){var a=e.value,t=e.type,n={search:a,searchFields:"".concat(t,":like")};T(Object(j.h)(n))},taxList:h,onAddItem:function(e){var a={page:1,appends:"product.unit;product.package;supplier",with:"trackings",search:"order_id:".concat(i)},t={id:i,params:{with:"items.trackings;trackings;shipmentInfor;attachments",appends:"customer;shipmentMethod;transactions"}};T(Object(y.a)(e)).then((function(e){e.type.includes("fulfilled")?(c.b.success(n.formatMessage({id:"ADD.ITEM.TITLE.SUCCESS"})),C(!1),T(Object(y.c)(a)),T(Object(L.e)(t))):c.b.error(n.formatMessage({id:"ADD.ITEM.TITLE.FAIL"}))}))},idOrder:i}))}A.prototype={onEdit:p.a.func,onPageChange:p.a.func,idOrder:p.a.string,statusOrder:p.a.string};var M=A,S=t(1289),C=t(1290),w=t(1291),x=t(1293),I=t(1294),U=t(1295),P=t(1261),k=t(397),B=t(396),F=t(395),G=t(567),H=t(175);a.a=Object(H.c)(Object(g.b)(null,null)((function(e){var a,t,m,d=e.history,u=e.intl,E=e.match.params.id,p=Object(g.d)(),O=Object(v.useState)({page:1,appends:"product.unit;product.package;supplier",with:"trackings",search:"order_id:".concat(E)}),N=Object(l.a)(O,2),R=N[0],h=N[1],_=Object(g.e)((function(e){var a=e.order,t=e.home;return{orderDetail:a.list.orderDetail,isLoadingDetail:a.list.isLoading,isActionLoadingDetail:a.list.isActionLoading,statusList:t.home.statusList,itemList:a.item.itemList}}),g.c),T=_.orderDetail,D=_.isLoadingDetail,j=_.isActionLoadingDetail,A=_.statusList,H=_.itemList,q={id:E,params:{with:"items.trackings;trackings;shipmentInfor;attachments",appends:"customer;shipmentMethod;transactions"}},Y={search:"owners.objectable_type:order;owners.objectable_id:".concat(E),searchFields:"owners.objectable_type:=;owners.objectable_id:=",searchJoin:"and"},X={search:"owningBoxes.objectable_type:order;owningBoxes.objectable_id:".concat(E),searchFields:"owningBoxes.objectable_type:=;owningBoxes.objectable_id:=",searchJoin:"and"},K={search:"logable_type:App\\\\Entities\\\\Order;logable_id:".concat(E),orderBy:"created_at",sortedBy:"desc"};Object(v.useEffect)((function(){p(Object(L.g)()),p(Object(y.d)()),p(Object(L.e)(q)).then((function(e){if(e.type.includes("fulfilled")){var a={search:"user_id:".concat(e.payload.customer_id)};p(Object(k.b)(a))}})),p(Object(B.d)(Y)),p(Object(F.c)(X))}),[]);var W=Object(v.useState)(null),V=Object(l.a)(W,2),J=V[0],Q=V[1],z=Object(v.useState)(null),$=Object(l.a)(z,2),Z=$[0],ee=$[1];Object(v.useEffect)((function(){p(Object(i.c)(K))}),[]);var ae=Object(v.useState)(!1),te=Object(l.a)(ae,2),ne=te[0],le=te[1],ce=Object(v.useState)(!1),re=Object(l.a)(ce,2),ie=re[0],oe=re[1];Object(v.useEffect)((function(){p(Object(y.c)(R))}),[R]);var se=Object(v.useState)(null),me=Object(l.a)(se,2),de=me[0],ue=me[1],Ee=Object(v.useState)(null),pe=Object(l.a)(Ee,2),ve=pe[0],be=pe[1],fe=(ve||T.steps||[]).map((function(e){return A.find((function(a){return a.id===e}))})),ge=null===T||void 0===T||null===(a=T.attachments)||void 0===a||null===(t=a[0])||void 0===t?void 0:t.path_file,Oe=D||j,Ne=null===T||void 0===T||null===(m=T.status)||void 0===m?void 0:m.id;return b.a.createElement(b.a.Fragment,null,Oe&&b.a.createElement(r.a,null),b.a.createElement(b.a.Fragment,null,b.a.createElement(P.a,{title:u.formatMessage({id:"ORDER.PAYMENT.DETAIL.TITLE"})},b.a.createElement(G.a,{className:"btn btn-light ml-2",onClick:function(){return d.push("/ban-hang/don-thanh-toan-ho")}},b.a.createElement("i",{className:"fa fa-arrow-left"}),b.a.createElement(f.a,{id:"GLOBAL.BUTTON.BACK"})),(null===fe||void 0===fe?void 0:fe.length)>0?null===fe||void 0===fe?void 0:fe.map((function(e,a){return b.a.createElement(G.a,{key:a,className:"btn btn-primary ml-2",onClick:function(){return function(e){var a={id:E,body:{status:e}};p(Object(L.h)(a)).then((function(e){var a,t;e.type.includes("fulfilled")?(c.b.success(u.formatMessage({id:"ORDER.UPDATE.STATUS.SUCCESS"})),ue(null===(a=e.payload)||void 0===a?void 0:a.status),be(null===(t=e.payload)||void 0===t?void 0:t.steps),p(Object(i.c)(K)),p(Object(L.e)(q))):c.b.error(u.formatMessage({id:"ORDER.UPDATE.STATUS.FAIl"}))}))}(null===e||void 0===e?void 0:e.id)}},null===e||void 0===e?void 0:e.name)})):null,b.a.createElement(G.a,{className:"btn btn-danger ml-2",href:"".concat("http://order.tomonisolution.com:82","/files/").concat(ge)},b.a.createElement("i",{className:"fas fa-file-download"}),b.a.createElement(f.a,{id:"GLOBAL.BUTTON.DOWNLOAD"}))),b.a.createElement("div",{className:"px-8 pb-8"},b.a.createElement(b.a.Fragment,null,b.a.createElement("div",{className:"form-group row"},b.a.createElement("div",{className:"col-12"},b.a.createElement(s.a,{statusRes:de,order:T,onUpdate:function(e){var a={id:E,body:{note:e}};p(Object(L.h)(a)).then((function(e){e.type.includes("fulfilled")?c.b.success(u.formatMessage({id:"ORDER.UPDATE.INFO.SUCCESS"})):c.b.error(u.formatMessage({id:"ORDER.UPDATE.INFO.FAIL"}))}))},intl:u}))),b.a.createElement("div",{className:"form-group row"},b.a.createElement("div",{className:"col-md-12"},b.a.createElement(M,{onEdit:function(e){var a=H.findIndex((function(a){return a.id===e}));if(-1!==a){var t=H[a];oe(t)}le(!0)},onPageChange:function(e){h(Object(n.a)(Object(n.a)({},R),{},{page:e}))},intl:u,idOrder:E,statusOrder:Ne}))),b.a.createElement("div",{className:"form-group row"},b.a.createElement("div",{className:"col-md-6"},b.a.createElement(x.a,{methodRes:Z,shipment:T.shipment_method,onUpdate:function(e){var a={id:E,body:{shipment_method_id:e}};p(Object(L.h)(a)).then((function(e){e.type.includes("fulfilled")?(c.b.success(u.formatMessage({id:"ORDER.UPDATE.SHIPMENT_METHOD.SUCCESS"})),ee(e.payload.shipment_method_id)):c.b.error(u.formatMessage({id:"ORDER.UPDATE.SHIPMENT_METHOD.FAIL"}))}))},intl:u})),b.a.createElement("div",{className:"col-md-6"},b.a.createElement(w.a,{shipmentInfoRes:J,shipment:T.shipment_infor,onUpdate:function(e){var a={id:E,body:{shipment_infor_id:e}};p(Object(L.h)(a)).then((function(e){e.type.includes("fulfilled")?(c.b.success(u.formatMessage({id:"ORDER.UPDATE.SHIPMENT_INFO.SUCCESS"})),Q(e.payload.shipment_infor_id)):c.b.error(u.formatMessage({id:"ORDER.UPDATE.SHIPMENT_INFO.FAIL"}))}))},intl:u}))),b.a.createElement("div",{className:"form-group row"},b.a.createElement("div",{className:"col-md-6"},b.a.createElement(o.a,{intl:u})),b.a.createElement("div",{className:"col-md-6"},b.a.createElement(S.a,{onView:function(e){d.push("/warehouse/lading-bills/".concat(e))},intl:u}))),b.a.createElement("div",{className:"form-group row"},b.a.createElement("div",{className:"col-md-6"},b.a.createElement(I.a,{transactions:T.transactions||[],intl:u})),b.a.createElement("div",{className:"col-md-6"},b.a.createElement(C.a,{onLog:function(e){var a={content:e,logable_id:E,logable_type:"AppEntitiesOrder"};p(Object(i.a)(a)).then((function(e){e.type.includes("fulfilled")?(p(Object(i.c)(K)),c.b.success(u.formatMessage({id:"ORDER.UPDATE.LOG.SUCCESS"}))):c.b.error(u.formatMessage({id:"ORDER.UPDATE.LOG.FAIL"}))}))},intl:u})))))),b.a.createElement(U.a,{item:ie||{},open:ne,onHide:function(){return le(!1)},onUpdate:function(e){var a=e.price,t=e.quantity,n=e.box,l=e.property,r=e.note,i=e.tax_percent,o=e.discount_tax_per_tax_percent,s={id:ie.id,body:{price:a,quantity:t,note:r,properties:l,is_box:n,tax_percent:i,discount_tax_per_tax_percent:o}};le(!1),p(Object(y.e)(s)).then((function(e){e.type.includes("fulfilled")?(c.b.success(u.formatMessage({id:"ORDER.UPDATE.ITEM.SUCCESS"})),p(Object(y.c)(R)),p(Object(L.e)(q))):c.b.error(u.formatMessage({id:"ORDER.UPDATE.ITEM.FAIL"}))}))}}))})))}}]);
//# sourceMappingURL=1.4924508c.chunk.js.map